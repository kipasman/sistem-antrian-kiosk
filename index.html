<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Sistem Antrian Digital</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            -webkit-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
        }
        * {
            -webkit-tap-highlight-color: transparent;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;
        
        const QueueSystemKiosk = () => {
          const [currentScreen, setCurrentScreen] = useState('home');
          const [selectedService, setSelectedService] = useState(null);
          const [queueNumber, setQueueNumber] = useState(null);
          const [currentTime, setCurrentTime] = useState(new Date());
          const [queueData, setQueueData] = useState({
            'Layanan Umum': { current: 'A045', waiting: 12, prefix: 'A' },
            'Prioritas': { current: 'P008', waiting: 3, prefix: 'P' },
            'Konsultasi': { current: 'K023', waiting: 7, prefix: 'K' },
            'Express': { current: 'E031', waiting: 5, prefix: 'E' }
          });

          useEffect(() => {
            const timer = setInterval(() => setCurrentTime(new Date()), 1000);
            return () => clearInterval(timer);
          }, []);

          const services = [
            {
              id: 'general',
              name: 'Layanan Umum',
              icon: 'üë•',
              color: 'from-blue-500 to-blue-600',
              description: 'Untuk keperluan umum dan standar',
              key: 'Layanan Umum'
            },
            {
              id: 'priority',
              name: 'Prioritas',
              icon: '‚è∞',
              color: 'from-purple-500 to-purple-600',
              description: 'Lansia, ibu hamil, disabilitas',
              key: 'Prioritas'
            },
            {
              id: 'consultation',
              name: 'Konsultasi',
              icon: '‚öôÔ∏è',
              color: 'from-green-500 to-green-600',
              description: 'Konsultasi khusus dengan petugas',
              key: 'Konsultasi'
            },
            {
              id: 'express',
              name: 'Express',
              icon: '‚ö°',
              color: 'from-orange-500 to-orange-600',
              description: 'Layanan cepat & sederhana',
              key: 'Express'
            }
          ];

          const handleTakeNumber = (service) => {
            const data = queueData[service.key];
            const nextNumber = parseInt(data.current.substring(1)) + data.waiting + 1;
            const newQueueNumber = `${data.prefix}${String(nextNumber).padStart(3, '0')}`;
            
            setQueueNumber(newQueueNumber);
            setSelectedService(service);
            setCurrentScreen('ticket');
            
            setQueueData(prev => ({
              ...prev,
              [service.key]: {
                ...prev[service.key],
                waiting: prev[service.key].waiting + 1
              }
            }));

            setTimeout(() => {
              setCurrentScreen('home');
              setQueueNumber(null);
              setSelectedService(null);
            }, 10000);
          };

          const HomeScreen = () => (
            <div className="min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 p-8 flex flex-col">
              <div className="text-center mb-8">
                <div className="flex justify-center items-center gap-4 mb-4">
                  <div className="w-16 h-16 bg-gradient-to-br from-blue-400 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg">
                    <span className="text-4xl">üé´</span>
                  </div>
                  <h1 className="text-5xl font-bold text-white">
                    Sistem Antrian Digital
                  </h1>
                </div>
                <p className="text-xl text-blue-200">Selamat datang! Silakan pilih layanan Anda</p>
              </div>

              <div className="text-center mb-8">
                <div className="inline-block bg-white/10 backdrop-blur-sm px-8 py-4 rounded-2xl border border-white/20">
                  <p className="text-3xl font-bold text-white">
                    {currentTime.toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit', second: '2-digit' })}
                  </p>
                  <p className="text-blue-200 text-sm mt-1">
                    {currentTime.toLocaleDateString('id-ID', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}
                  </p>
                </div>
              </div>

              <div className="grid grid-cols-2 gap-6 flex-1 max-w-6xl mx-auto w-full">
                {services.map((service) => {
                  const data = queueData[service.key];
                  return (
                    <button
                      key={service.id}
                      onClick={() => handleTakeNumber(service)}
                      className="group relative bg-white/10 backdrop-blur-md rounded-3xl p-8 border-2 border-white/20 hover:border-white/40 hover:bg-white/20 transition-all duration-300 active:scale-95 flex flex-col"
                    >
                      <div className="flex items-start justify-between mb-6">
                        <div className={`w-20 h-20 bg-gradient-to-br ${service.color} rounded-2xl flex items-center justify-center shadow-lg text-4xl`}>
                          {service.icon}
                        </div>
                        <div className="text-right">
                          <div className="text-sm text-blue-200 mb-1">Sedang Dilayani</div>
                          <div className="text-3xl font-bold text-white">{data.current}</div>
                        </div>
                      </div>
                      
                      <h3 className="text-3xl font-bold text-white mb-3">{service.name}</h3>
                      <p className="text-blue-200 text-lg mb-6">{service.description}</p>
                      
                      <div className="mt-auto flex items-center justify-between">
                        <div className="flex items-center gap-2 text-blue-200">
                          <span className="text-lg">üë• {data.waiting} orang menunggu</span>
                        </div>
                        <span className="text-white text-2xl">‚Üí</span>
                      </div>
                    </button>
                  );
                })}
              </div>

              <div className="text-center mt-8 text-blue-300">
                <p className="text-lg">Sentuh layanan untuk mengambil nomor antrian Anda</p>
              </div>
            </div>
          );

          const TicketScreen = () => (
            <div className="min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 p-8 flex items-center justify-center">
              <div className="max-w-2xl w-full">
                <div className="text-center mb-8">
                  <div className="inline-block relative">
                    <div className="w-32 h-32 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center shadow-2xl animate-bounce">
                      <span className="text-6xl">üé´</span>
                    </div>
                  </div>
                </div>

                <div className="bg-white rounded-3xl shadow-2xl overflow-hidden">
                  <div className={`bg-gradient-to-r ${selectedService.color} p-8 text-white`}>
                    <h2 className="text-3xl font-bold mb-2">Nomor Antrian Anda</h2>
                    <p className="text-xl opacity-90">{selectedService.name}</p>
                  </div>

                  <div className="p-12 text-center bg-gradient-to-b from-white to-gray-50">
                    <div className="mb-4">
                      <p className="text-2xl text-gray-600 mb-4">Nomor Antrian</p>
                      <div className={`inline-block bg-gradient-to-br ${selectedService.color} text-white text-9xl font-bold py-8 px-16 rounded-3xl shadow-2xl`}>
                        {queueNumber}
                      </div>
                    </div>
                    
                    <div className="mt-8 grid grid-cols-2 gap-6 max-w-md mx-auto">
                      <div className="bg-blue-50 rounded-2xl p-4">
                        <p className="text-sm text-gray-600 mb-1">Estimasi Waktu</p>
                        <p className="text-2xl font-bold text-gray-800">
                          ~{queueData[selectedService.key].waiting * 5} menit
                        </p>
                      </div>
                      <div className="bg-blue-50 rounded-2xl p-4">
                        <p className="text-sm text-gray-600 mb-1">Antrian Sebelum Anda</p>
                        <p className="text-2xl font-bold text-gray-800">
                          {queueData[selectedService.key].waiting} orang
                        </p>
                      </div>
                    </div>
                  </div>

                  <div className="bg-gray-100 p-6 border-t border-gray-200">
                    <div className="flex items-center justify-between text-sm text-gray-600">
                      <span>Waktu: {currentTime.toLocaleTimeString('id-ID')}</span>
                      <span>Tanggal: {currentTime.toLocaleDateString('id-ID')}</span>
                    </div>
                  </div>
                </div>

                <div className="mt-8 bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20">
                  <h3 className="text-xl font-bold text-white mb-3">Instruksi:</h3>
                  <ul className="space-y-2 text-blue-200">
                    <li>‚úì Harap menunggu nomor Anda dipanggil</li>
                    <li>‚úì Perhatikan layar display antrian</li>
                    <li>‚úì Simpan nomor antrian Anda dengan baik</li>
                    <li>‚úì Jika melewati panggilan, ambil nomor baru</li>
                  </ul>
                </div>

                <button
                  onClick={() => {
                    setCurrentScreen('home');
                    setQueueNumber(null);
                    setSelectedService(null);
                  }}
                  className="mt-6 w-full bg-white/10 backdrop-blur-md text-white py-4 rounded-2xl border border-white/20 active:bg-white/20 transition-all flex items-center justify-center gap-2 text-lg font-semibold"
                >
                  <span className="text-2xl">üè†</span>
                  Kembali ke Beranda
                </button>
              </div>
            </div>
          );

          return currentScreen === 'home' ? <HomeScreen /> : <TicketScreen />;
        };

        ReactDOM.render(<QueueSystemKiosk />, document.getElementById('root'));
    </script>
</body>
</html>
